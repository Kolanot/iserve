<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2015-11-10
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20151110" />
    <meta http-equiv="Content-Language" content="en" />
    <title>iServe - Usage</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="http://github.com/kmi/iserve">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="../" id="bannerLeft">
                                                                                                <img src="images/iServe-logo.png"  alt="iServe" width="263" height="475"/>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2015-11-10</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 2.0.2</li>
                      
                
                    
      
                                              
    <li class="pull-right">              <a href="http://kmi.open.ac.uk" class="externalLink" title="KMi">
        KMi</a>
  </li>

        <li class="divider pull-right">|</li>
      
    <li class="pull-right">              <a href="http://iserve.kmi.open.ac.uk" class="externalLink" title="iServe Blog">
        iServe Blog</a>
  </li>

                        </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>
                                
      <li>
    
                          <a href="index.html" title="About">
          <i class="none"></i>
        About</a>
            </li>
                  
      <li>
    
                          <a href="overview.html" title="Overview">
          <i class="none"></i>
        Overview</a>
            </li>
                  
      <li>
    
                          <a href="data-model.html" title="Data Model">
          <i class="none"></i>
        Data Model</a>
            </li>
                  
      <li>
    
                          <a href="architecture.html" title="Architecture">
          <i class="none"></i>
        Architecture</a>
            </li>
                  
      <li>
    
                          <a href="deployment.html" title="Deployment">
          <i class="none"></i>
        Deployment</a>
            </li>
                  
      <li>
    
                          <a href="configuration.html" title="Detailed Configuration">
          <i class="none"></i>
        Detailed Configuration</a>
            </li>
                  
      <li>
    
                          <a href="compiling.html" title="Compiling iServe">
          <i class="none"></i>
        Compiling iServe</a>
            </li>
                  
      <li class="active">
    
            <a href="#"><i class="none"></i>Using iServe</a>
          </li>
                  
      <li>
    
                          <a href="advanced-discovery.html" title="Advanced discovery">
          <i class="none"></i>
        Advanced discovery</a>
            </li>
                  
      <li>
    
                          <a href="extending.html" title="Extending iServe">
          <i class="none"></i>
        Extending iServe</a>
            </li>
                              <li class="nav-header">Modules</li>
                                
      <li>
    
                          <a href="iserve-sal-core/index.html" title="iServe Storage Access Layer (SAL) Core">
          <i class="none"></i>
        iServe Storage Access Layer (SAL) Core</a>
            </li>
                  
      <li>
    
                          <a href="iserve-discovery-api/index.html" title="iServe Discovery API">
          <i class="none"></i>
        iServe Discovery API</a>
            </li>
                  
      <li>
    
                          <a href="iserve-semantic-discovery/index.html" title="iServe Semantic Discovery Plug-in">
          <i class="none"></i>
        iServe Semantic Discovery Plug-in</a>
            </li>
                  
      <li>
    
                          <a href="iserve-webapp/index.html" title="iServe Web Application">
          <i class="none"></i>
        iServe Web Application</a>
            </li>
                  
      <li>
    
                          <a href="iserve-integrated-engine/index.html" title="iServe Integrated Engine">
          <i class="none"></i>
        iServe Integrated Engine</a>
            </li>
                  
      <li>
    
                          <a href="iserve-elda/index.html" title="iServe ELDA Plug-in">
          <i class="none"></i>
        iServe ELDA Plug-in</a>
            </li>
                  
      <li>
    
                          <a href="iserve-swagger/index.html" title="iServe Swagger Interface Plug-in">
          <i class="none"></i>
        iServe Swagger Interface Plug-in</a>
            </li>
                  
      <li>
    
                          <a href="iserve-popularity-scoring/index.html" title="iServe Popularity Scorers Plug-in">
          <i class="none"></i>
        iServe Popularity Scorers Plug-in</a>
            </li>
                  
      <li>
    
                          <a href="iserve-sparql-text-search/index.html" title="iServe Free Text Search Plugin based on SPARQL">
          <i class="none"></i>
        iServe Free Text Search Plugin based on SPARQL</a>
            </li>
                  
      <li>
    
                          <a href="iserve-service-type-filtering/index.html" title="iServe Service Type Filtering Plug-in">
          <i class="none"></i>
        iServe Service Type Filtering Plug-in</a>
            </li>
                  
      <li>
    
                          <a href="iserve-rest/index.html" title="iServe REST interface">
          <i class="none"></i>
        iServe REST interface</a>
            </li>
                              <li class="nav-header">Reports</li>
                                                                                                                                                                                              
      <li>
    
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                    
      <li>
    
                          <a href="project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <div class="section">
<h2>Using iServe<a name="Using_iServe"></a></h2>
<p>iServe provides two main means for its integration, namely a direct Java API, and a RESTful interface.</p>
<div class="section">
<h3>Java API<a name="Java_API"></a></h3>
<p>Currenly access to iServe's functionality is provided through two main entry points depending on whether you want to interact with its CRUD interface to add services, documents, or ontologies, or with its matching interface if you want to discover services.</p>
<p>Should you wish to integrate iServe within a Maven project you may add the dependency as follows:</p>
<div class="source">
<pre> &lt;dependency&gt;
     &lt;artifactId&gt;iserve-integrated-engine&lt;/artifactId&gt;
     &lt;groupId&gt;uk.ac.open.kmi.iserve&lt;/groupId&gt;
     &lt;version&gt;${pom.version}&lt;/version&gt;
     &lt;/exclusions&gt;
 &lt;/dependency&gt;</pre></div>
<p>At moment we do not publish the jars in a public repository. You will have to compile and install it locally.</p>
<div class="section">
<h4>CRUD Interface<a name="CRUD_Interface"></a></h4>
<p>Access to the CRUD interface is obtained by means of iServeEngine facade. Therein you will get access to the main data managers in charge of services, documents, and ontologies. For convenience iServeEngine provides methods that take care of automatically transforming services prior to importing them, keeping all data managers synchronized, and when necessary, obtaining remote ontologies referred to by the imported services.</p>
<div class="section">
<h5>Creating an iServeEngine<a name="Creating_an_iServeEngine"></a></h5>
<div class="source">
<pre>
iServeEngine engine = iServeEngineFactory.createEngine();
</pre></div></div>
<div class="section">
<h5>Importing Services<a name="Importing_Services"></a></h5>
<div class="source">
<pre>
// Get Registry Manager
RegistryManager manager = engine.getRegistryManager();

InputStream in;
List&lt;URI&gt; servicesUris;
for (File ttlFile : msmTtlTcFiles) {
    in = new FileInputStream(ttlFile);
    servicesUris = manager.importServices(in, MediaType.TEXT_TURTLE.getMediaType());
}
</pre></div></div>
<div class="section">
<h5>Listing the Registered Services<a name="Listing_the_Registered_Services"></a></h5>
<div class="source">
<pre>List&lt;URI&gt; services = manager.getServiceManager().listServices();</pre></div></div>
<div class="section">
<h5>Obtaining the Java Representation of a Service<a name="Obtaining_the_Java_Representation_of_a_Service"></a></h5>
<div class="source">
<pre>URI svcUri = new URI(&quot;http://iserve.installation.org/services/id/1&quot;);
Service service = manager.getServiceManager().getService(svcUri);</pre></div></div></div>
<div class="section">
<h4>The Matching Interface<a name="The_Matching_Interface"></a></h4>
<p>iServe provides a Matching API that can be used programmatically from Java. Although, work is ongoing to provide a more advanced and richer API, you can already work with it within your applications. Should you wish to obtain a Matcher, you can simply do so by means of the <i>uk.ac.open.kmi.iserve.api.MatchersFactory</i>. This factory takes care of locating Matcher implementations by means of a plugin mechanism, and will automatically create the plugin of your choice at runtime. Currently, the code only provides a ConceptMatcher allowing you to find matches between concepts loaded in the server by relying directly on SPARQL queries. Further matches are under development and will be released incrementally.</p>
<p>Below you have an example on how you can create a Matcher.</p>
<div class="source">
<pre>ConceptMatcher matcher = MatchersFactory.createConceptMatcher(SparqlLogicConceptMatcher.class.getName());</pre></div></div>
<div class="section">
<h4>Notifications<a name="Notifications"></a></h4>
<p>In order to enable applications and extensions to react upon changes to the registry, iServe implements a simple notification mechanism based on <a class="externalLink" href="http://code.google.com/p/guava-libraries/wiki/EventBusExplained"> Guava's EventBus</a>. Applications can register for notifications simply by doing:</p>
<div class="source">
<pre>manager.registerAsObserver(this);</pre></div>
<p>This will ensure than any change on the Services, Documents or Knowledge Base Managers get automatically reported. Processing the events is simply ensured by implementing a method that takes the event we are interested in as sole argument. The method should be annotated with <i>@Subscribe</i>. See package <i>uk.ac.open.kmi.iserve.sal.events</i> for the list of events supported.</p>
<p>An example on how such a subscription method should be implemented is listed next.</p>
<div class="source">
<pre>@Subscribe
public void handleOntologyCreatedEvent(OntologyCreatedEvent event) {
    // Code handling the event...
}</pre></div></div></div>
<div class="section">
<h3>RESTful Interface<a name="RESTful_Interface"></a></h3>
<p>iServe provides a RESTful interface offering remote access to its functionality. iServe's Web Application comes with an embedded interactive documentation of the RESTful API offered it can be found at:</p>
<div class="source">
<pre>http://&lt;somehost.com&gt;/&lt;iserve-deployed-context&gt;/docs</pre></div>
<p>See for example the <a class="externalLink" href="http://iserve.kmi.open.ac.uk/iserve/docs/"> documentation of the current main public deployment of iServe</a>.</p></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                    2015
                        <a href="http://kmi.open.ac.uk">Knowledge Media Institute - The Open University</a>.
            All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
